---
title: esp
date: 2017-07-31 08:38:42 +04:30
categories: نصب لینوکس آرچ
comment: https://github.com/MCSH/MCSH.github.io/issues/4
---

نصب خوبی نبود. همه چیز خوب پیشرفت تا لخظات آخر نصب گراب که متوجه شدم فراموش کردم پارتیشن esp بسازم. در واقع نمیدونستم باید این کار رو کنم چرا که هیچگاه نیاز به انجام آن نداشتم.پس از جستوجو متوجه شدم آن پارتیشن جادویی که در آن اطلاعات بوت uefi قرار می گیرد esp نام دارد و از فضا نمی اید. این پارتیشن فرمت FAT32 را دارد و باید حداقل ۱۰۰ مگابایت باشد - هر چند به دلایل محدودیت های فرمت FAT32 نمی تواند کمتر از ۲۵۶ مگابایت باشد - و فضای پیشنهاد شده برای آن ۵۱۲ مگابایت است. قبلا برای نصب از آن استفاده کرده بودم، یک حقه قدیمی که باعث می شد هر گاه ویندوز بالا می آید خودش را سیستم عامل پیش فرض نکند این بود که در محلی که فایل efi ویندوز وجود داشت آن را تغییر نام می دادیم و فایل efi گراب را می گذاشتیم و به گراب می گفتیم که فایل جدید ویندوز آن است. هر چند این بار نیازی به این کار ها نیست چرا که ویندوز کاملا حذف شده است! حافظه esp محدودیتی از لحاظ موقعیتش در دیسک ندارد اما توصیه شده پارتیشن اول باشد. ساختار پارتیشنی که در پست قبلی پیشنهاد دادم را مجبور شدم عوض کنم. و ۵۱۲ مگابیت به ابتدای آن اضافه کنم که مشکل چندانی نیست.

در فرایند نصب از elinks برای باز کردن لینک های ویکی آرچ استفاده کردم، چون گوشی در شارژ بود! تجربه بدی نبود اما مجبور شدم یک پکیج اضافی نصب کنم که مشکل چندانی ندارد. ابتدا پکیج های `base` و `base-devel` را نصب کردم و سپس برای پیاده سازی بوت لودر از `grub` و `efibootmgr`. در نهایت `elinks` را نصب کردم که پس از بوت در سیستم مشکلی نداشته باشم. طبق یک عادت قدیمی پکیج `sudo` را نصب مجدد کردم و متوجه شدم این پکیج به `base` اضافه شده و نیازی به نصب مجدد آن نبوده، که مشکلی پیش نمی آورد. سپس یوزر sajjad را به سیستم اضافه کردم و تنظیم کردم تا از sudo بتواند استفاده کند. قبل از هر کار دیگری `networkmanager` خوب را نصب کردم و سرویس `NetworkManager` را در systemd فعال کردم. آخرین باری که نصب کرده بودم پکیج `broadcom-wl-dkms` در AUR بود اما این بار این پکیج به مخازن اصلی منتقل شده بود. آن را به همراه `linux-headers` نصب کردم تا بتوانم از wifi لپ تاپ استفاده کنم. در انتها پکیج های `xorg-server` را به همراه `plasma` و `kde-applications` نصب کردم تا محیط گرافیکی خودم را داشته باشم. در حین فرایند برای `libgl` از `libglvnd` استفاده کردم - بعدا سر فرصت درایور های Nvidia را نصب می کنم تا بتوانم از قدرت پردازنده استفاده کنم اما الآن این کار هزینه اضافی داشت تنها و همین پکیج کافی بود. برای `phonon-qt5-backend` و `phonon-qt4-backend` نیز به ترتیب از `phonon-qt5-vlc` و `phonon-qt4-vlc` استفاده کردم چرا تجربه بهتری با آن ها داشته ام! از بین `libx264` و `libx264-10bit` نیز اولی را انتخاب کردم (نمیدانم چرا!) و برای `cron` از `cronie` که قابلیت های جالبی برای کامپیوتر هایی که زیاد خاموش می شوند دارد. این سیستم اجازه می دهد تا فرامین `cron` که هنگام خاموش بودن باید اجرا می شدند پس از روشن شدن اجرا شوند. پس از پایان نصب سرویس `sddm` را فعال کردم و سیستم را ریستارت کردم تا در محیط گرافیکی KDE حضور پیدا کنم! سپس پکیج های `git` و `openssh` را نصب کردم تا بتوانم این ریپوزیتوری را `clone` کنم و به نوشتن بپردازم!

برای نوشتن از kate و kwrite استفاده کردم اما متاسفانه هر دو با کاراکتر نیم-فاصله مشکل دارند و به همین دلیل نتوانستم به خوبی آن را مدیریت کنم. در اولین فرصت به دنبال حل این مشکل می گردم.
