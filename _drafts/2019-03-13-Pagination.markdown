---
title: هیولایی به نام Pagination
date: 2019-03-13 21:58:10 +03:30
categories: api
comment: https://github.com/MCSH/MCSH.github.io/issues/
---

شاید یکی از بزرگ‌ترین و جنجالی‌ترین ابداعات انسان صفحه‌گذاری[^1] باشه. قبل از اون وقتی متن بزرگتر می‌شده صفحه رو بزرگ‌تر می‌کردند تا تمام متن روش جا بشه، یا شاید هم متن رو کوچکتر می‌نوشتند. اما بازی کردن با ابعاد هیچ وقت راه حل واقعی برای انسان‌هایی که حرف‌های بزرگتر از صفحه داشتن نبوده، برای همینه که روزی که انسانی باهوش فهمید می‌تونه به جای بزرگ کردن صفحه‌اش، تعدادشون رو زیاد کنه رو باید جشن گرفت. اما متاسفانه این ابداع اونقدر قدیمی هست که حتا نمی‌تونیم تشخیص بدیم ایده مطعلق به کدوم منظقه جغرافیایی بوده.

اما با وجود قدیمی بودن ایده صفحه‌گذاری و با وجود این که در قرن بیستم و بیست و یکم هر انسانی، با سواد یا بی‌سواد، پولدار یا فقیر، مرد یا زن، ... با این موضوع آشنا هست، اما هنوز هم در اجرای اون توی سیستم‌های کامپیوتری مشکلات فراوانی داریم. این مشکلات در ابعاد مختلف در بخش‌های مختلف سیستم هست، از نوشتن روی دستگاه‌های فیزیکی مثل هارد یا رم تا نمایش دادن خطوط روی صفحه و Word Wrap، تا ارسال اطلاعات از سرور به کاربر.

تو این پست می‌خوام مورد آخر رو بررسی کنیم، صفحه‌گذاری اطلاعات از سمت سرور به کاربر، اون هم در یک REST API.

----

## چرا؟

سه دلیل اصلی برای صفحه‌گذاری اطلاعات از سرور به کاربر وجود داره:

### حافظه محدود کلاینت

کلاینت شما، چه صفحه موبایل باشه چه وب اپلیکیشن، حافظه محدودی داره و شما هم تمام تلاشتون رو می‌کنید تا همه اون رو یکجا مصرف نکنید. برای همینه که نگهداشتن میلیون‌ها رکورد روی حافظه کلاینت توصیه نمی‌شه و بهتره به جاش اون‌ّها رو چندتا چندتا برای کاربر ارسال کنیم!

### سرعت لود بیشتر

درک این قضیه که با زیاد شدن اطلاعات ارسالی از سرور به کلاینت لود شدن اپ شما بیشتر طول می‌کشه نیاز به دانش تخصصی نداره. حتا از لحاظ شهودی هم کاملا مشخصه، وقتی حجم اطلاعات ارسالی از سرور به کلاینت افزایش پیدا کنه سرعت لود کاهش پیدا می‌کنه و کاربر زمان بیشتری رو باید منتظر بمونه تا صفحه موردنظرش رو ببینه.

### تجربه کاربری بهتر

با زیاد شدن تعداد ریکوردهایی که به کاربر نمایش می‌دهید، تمرکز کاربر رو از دست می‌دهید. کاربر شما شاید بتونه در یک لحظه به ۵ رکورد مختلف نگاه کنه، اما اگر تعدادش به بیش از ۵۰ تا برسه و مجبور شید فونت رو کوچک‌تر کنید، علاوه بر تمرکز، توانایی خواندن اون‌ها رو هم از دست میده.

---
## روش‌ها

حالا که دلایل اصلی این کار رو فهمیدیم، اجازه بدید به نحوه اجراش هم نگاه کنیم.

### شماره صفحه (page)

در این روش، برای 

### Limit Offset



### Cursor

صفحه بعد، صفحه قبل

گیتهاب


دلایل
مشکلات
روش ها
پیشنهاد ها
از چه دوری کنیم
کجا بگیریم؟

----

[^1]: Pagination